<h2 mat-dialog-title>Simulador</h2>
<mat-dialog-content>
  <form [formGroup]="formulario">
    <mat-horizontal-stepper [linear]="true" #stepper>
      <!-- Paso 1: Nombre -->
      <mat-step [stepControl]="formulario.get('nombre')!">
        <form [formGroup]="formulario">
          <h3> Paso 1: Nombre </h3>
          <mat-form-field>
            <mat-label>Nombre del Producto</mat-label>
            <input matInput formControlName="nombre" placeholder="Nombre del Producto">
          </mat-form-field>
          <div>
            <button mat-button matStepperNext type="button">Siguiente</button>
          </div>
        </form>
      </mat-step>

      <!-- Paso 2: Materia Prima -->
      <mat-step [stepControl]="formulario">
        <form [formGroup]="formulario">
          <h3>Paso 2: Materia Prima</h3>
          <mat-form-field>
            <mat-label>Precio De Compra</mat-label>
            <input matInput type="number" formControlName="precioMP">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Cantidad Comprada</mat-label>
            <input matInput type="number" formControlName="UnidadDeCompraMP">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Cantidad Utilizada</mat-label>
            <input matInput type="number" formControlName="cantidadMP">
          </mat-form-field>
          <div>
            <button mat-button matStepperPrevious type="button">Anterior</button>
            <button mat-button matStepperNext type="button">Siguiente</button>
          </div>
        </form>
      </mat-step>

      <!-- Paso 3: Costos Fijos y Producción Mensual -->
      <mat-step [stepControl]="formulario">
        <form [formGroup]="formulario">
          <h3>Paso 3: Costos Fijos y Producción Mensual</h3>
          <mat-form-field>
            <mat-label>Monto de Gastos Fijos</mat-label>
            <input matInput type="number" formControlName="valorGF">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Cantidad Producida al Mes</mat-label>
            <input matInput type="number" formControlName="CantidadProductoMensual">
          </mat-form-field>
          <div>
            <button mat-button matStepperPrevious type="button">Anterior</button>
            <button mat-button matStepperNext type="button">Siguiente</button>
          </div>
        </form>
      </mat-step>

      <!-- Paso 4: Ganancia -->
      <mat-step [stepControl]="formulario">
        <form [formGroup]="formulario">
          <h3>Paso 4: Ganancia</h3>
          <mat-form-field>
            <mat-label>Porcentaje de Ganancia</mat-label>
            <input matInput type="number" formControlName="Ganancia">
          </mat-form-field>
          <div>
            <button mat-button matStepperPrevious type="button">Anterior</button>
            <button mat-button matStepperNext type="button">Siguiente</button>
          </div>
        </form>
      </mat-step>

      <!-- Paso 5: Resultado -->
      <mat-step>
        <h3>Paso 5: Resultado</h3>
        <h4>Precio Final con Ganancia: ${{ calcularTodo().toFixed(2) }}</h4>
        <div>
          <button mat-button matStepperPrevious type="button">Anterior</button>
          <button mat-button (click)="guardar()">Guardar</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button (click)="cancelar()">Cancelar</button>
</mat-dialog-actions>
